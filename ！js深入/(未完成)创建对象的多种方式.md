# JSåˆ›å»ºå¯¹è±¡çš„å¤šç§æ–¹å¼

JSå¯¹è±¡æœ‰åŠ¨æ€æ€§å’Œçµæ´»æ€§

åˆ›å»ºæ–¹å¼ä¹Ÿå¤šç§å¤šæ ·ï¼Œæ¯ç§æ–¹å¼éƒ½æœ‰å…¶é€‚ç”¨åœºæ™¯

## ä¸€ï¼Œå­—é¢é‡åˆ›å»º

### ğŸ˜€ä¾‹å­

~~~js
let person={
    name:"ben",
    age:"18",
    height:"177"
}
~~~

### âœ… ä¼˜ç‚¹

è¿™æ ·ç¡®å®ç‰¹åˆ«ç‰¹åˆ«ç®€å•ï¼Œè€Œä¸”å¯è¯»æ€§å¼ºï¼Œ**åˆ›å»ºå•ä¸ªå¯¹è±¡**å†åˆé€‚ä¸è¿‡äº†

### ğŸ˜­ç¼ºç‚¹

è¿™ä¸œè¥¿ä¹Ÿåªé€‚åˆåˆ›å»ºå•ä¸ªå˜é‡äº†ï¼Œ**æ— æ³•å¤ç”¨**---->åˆ›å»ºå¤§é‡å¯¹è±¡æ—¶**ä»£ç é‡å¤ä¸¥é‡**

>é€‚åˆé…ç½®å¯¹è±¡ï¼Œå•ä¾‹ï¼Œä¸´æ—¶æ•°æ®ç»“æ„

## äºŒï¼Œå¯¹è±¡å·¥å‚

###### æœ‰ä¸€ä¸ªå·¥å‚ï¼Œä¸“é—¨ç”Ÿäº§å¸½å­ï¼Œå•Šä¸ï¼Œå¯¹è±¡

### ğŸ¤”å¦‚ä½•å®ç°ï¼Ÿ

å‡½æ•°å°è£…åˆ›å»ºç»†èŠ‚

~~~js
function createNewObject(name,age){
    return{
        name:name,
        age:age,
        greet(){
        //è¿™é‡Œç”¨åˆ°äº†çœç•¥function
        console.log("Helloï¼Œi am ${this.name}")
    }
        //ç­‰ä»·äºgreet:function(){
        //}
        //åªæœ‰åœ¨â€å®šä¹‰å¯¹è±¡å­—é¢é‡çš„æ–¹æ³•â€œæ—¶æ‰å¯ä»¥ä½¿ç”¨ï¼ï¼
    }
    };
}
const p1=createPerson("alice",25)
const p2=createPerson("bob",30)
~~~

### âœŒä¼˜ç‚¹

1ï¼Œè§£å†³äº†ä»£ç é‡å¤é—®é¢˜

###### â€”â€”è¿™æ ·ä¸å°±å¯ä»¥åå¤åˆ›å»ºå¤šä¸ªå®ä¾‹äº†

2ï¼Œå¯é€šè¿‡å‚æ•°åˆå§‹åŒ–å¯¹è±¡

###### â€”â€”å®ä¾‹å‚æ•°ï¼Ÿç›´æ¥å½¢å‚ä¼ å…¥

### ğŸ˜Ÿç¼ºç‚¹

1ï¼Œæ— æ³•è¯†åˆ«å¯¹è±¡ç±»å‹ï¼š

~~~Js
console.log(p1 instanceof createPerson);//flaseï¼Œp1ä¸å±äºcreatePersonçš„å®ä¾‹ï¼Ÿæ˜æ˜æ˜¯å±äºçš„
console.log(typeof p1)//"object"-æ— æ³•åŒºåˆ†å…·ä½“ç±»å‹ï¼ˆåˆ°åº•æ˜¯Arrayå‘¢ï¼Œè¿˜æ˜¯objectå‘¢ï¼Œnullä¹Ÿæ˜¯objectå“¦ï¼‰
~~~

2ï¼Œæ‰€æœ‰æ–¹æ³•éƒ½åœ¨æ¯ä¸ªå®ä¾‹ä¸­é‡æ–°åˆ›å»ºï¼Œæµªè´¹å†…å­˜ã€‚

>âœ… **é€‚ç”¨åœºæ™¯**:éœ€è¦åˆ›å»ºå¤šä¸ªç±»å‹å¯¹è±¡çš„å·¥å‚å‡½æ•°

## ä¸‰ï¼Œæ„é€ å‡½æ•°æ¨¡å¼

###### Coreï¼šä½¿ç”¨newå…³é”®å­—

~~~Js
function Person(name,age){
    this.name=name;
   	this.age=age;
    this.greet=function(){
        console.log(`hello,l am ${this.name}`)
    }
}
const p1=new Person('Alice',25)
const p2=new Person('Bob',30)
~~~

#### ğŸ“Œnewçš„æ‰§è¡Œè¿‡ç¨‹

1. åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
2. å°†æ„é€ å‡½æ•°(Person)çš„prototypeèµ‹å€¼ç»™æ–°å¯¹è±¡çš„[[Prototype]]
3. å°†thisæŒ‡å‘æ–°å¯¹è±¡
4. æ‰§è¡Œæ„é€ å‡½æ•°ä½“
5. å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å¯¹è±¡ï¼Œåˆ™è¿”å›æ–°å¯¹è±¡

#### â­ä¼˜ç‚¹

- å¯ä»¥é€šè¿‡instanceofè¯†åˆ«p1å®ä¾‹

  ~~~Js
  console.log(p1 instanceof Person)//true
  ~~~

- æ”¯æŒå‚æ•°åˆå§‹åŒ–

#### âŒç¼ºç‚¹

æ–¹æ³•åœ¨æ¯ä¸ªå®ä¾‹ä¸­é‡å¤åˆ›å»ºï¼Œæµªè´¹å†…å­˜

~~~Js
console.log(p1.greet===p2.greet)//false
~~~

>âœ…é€‚ç”¨åœºæ™¯ï¼šéœ€è¦ç±»å‹è¯†åˆ«çš„ç®€å•å¯¹è±¡åˆ›å»º

## å››ï¼ŒåŸå‹æ¨¡å¼

âœ…æ ¸å¿ƒï¼šå…±äº«prototypeé‡Œé¢çš„å±æ€§å’Œæ–¹æ³•

~~~Js
function Person(){
	Person.prototype.name='Unkown';
    Person.prototype.age=0;
    Person.prototype.greet=function(){
      console.log(`hi,l am ${this.name}`)  
    };
}
const p1=new Person();
p1.name='Alice';
p1.age=25;

const p2=new Person();
p2.name='Bob';
p2.age=30;
~~~

#### âœ… ä¼˜ç‚¹

æ–¹æ³•!åªåœ¨å†…å­˜ä¸­åˆ›å»ºä¸€æ¬¡ï¼Œ**å†…å­˜é«˜æ•ˆ**ï¼š

~~~js
console.log(p1.greet===p2.greet);//true
~~~

#### âŒç¼ºç‚¹

- **æ— æ³•**é€šè¿‡æ„é€ å‡½æ•°**ä¼ å‚åˆå§‹åŒ–**

- **å¼•ç”¨**æ•°æ®ç±»å‹è¢«æ‰€æœ‰å®ä¾‹**å…±äº«**

  ~~~js
  Person.prototype.hobbies=['reading']

  p1.hobbies.push('coding');
  console.log(p2.hobbies)//['reading','coding']
  //å“å“Ÿæˆ‘äº†ä¸ªå»ï¼p2çš„hobbiesæ€ä¹ˆè¢«æ±¡æŸ“äº†ï¼Ÿï¼
  ~~~

> âœ…é€‚ç”¨åœºæ™¯ï¼šæ–¹æ³•å…±äº«ï¼Œä½†æ˜¯ä¸é€‚åˆå­˜å‚¨å®ä¾‹æ•°æ®

## äº”ï¼Œç»„åˆæ¨¡å¼ï¼ˆæ„é€ å‡½æ•°ï¼‹åŸå‹ï¼‰â€”â€”BEST Idea

#### ğŸ˜‰Coreï¼šå±æ€§åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ–¹æ³•åœ¨åŸå‹ä¸Šå®šä¹‰

~~~Js
function Person(name,age){
    this.name=age
    this.age=age
    this.hobbies=[]
    //ç§æœ‰hobbies
}
Person.prototype.greet=function(){
    console.log(`hi,hello,l am ${this.name}`)
}
const p1=new Person('alice',20)
const p2=new Person('bob',14)
//å¯ä»¥å‚æ•°ä¼ é€’äº†

p1.hobbies.push("reading")
p2.hobbies.push('coding')

console.log(p1.hobbies)//[reading]
console.log(p2.hobbies)//[coding]
//å­˜å‚¨æ•°æ®å®Œå…¨ä¸æ±¡æŸ“äº†
~~~

#### âœ…ä¼˜ç‚¹

- å±æ€§ç§æœ‰ï¼Œé¿å…å…±äº«é—®é¢˜
- å¯ä»¥å‚æ•°ä¼ é€’
- ä¸æµªè´¹å†…å­˜ï¼Œæ–¹æ³•åªæœ‰ä¸€ä¸ª
- æ”¯æŒç±»å‹è¯†åˆ«

#### âŒç¼ºç‚¹

- ä»£ç åˆ†æ•£åœ¨æ„é€ å‡½æ•°å’ŒåŸå‹ä¸­ï¼Œå°è£…æ€§å·®

>ğŸ˜é€‚ç”¨åœºæ™¯:ES6ä¹‹å‰çš„æ ‡å‡†å¯¹è±¡åˆ›å»ºæ–¹å¼ğŸ˜¨

#### å…­,åŠ¨æ€åŸå‹æ¨¡å¼

Core:åœ¨æ„é€ å‡½æ•°å†…éƒ¨åˆå§‹åŒ–åŸå‹,ä»…ä¸€æ¬¡

~~~Js
function Person(name,age){
    this.name=name;
    this.age=age;
    this.hobbies=[];
    if(typeof this.greet!=='function'){
        Person.prototype.greet=function(){
            console.log("hi,hello")
        }
    }
}
const p1=new Person('Alice',50)
const p2=new Person('bob',30)
~~~

#### âœ…ä¼˜ç‚¹

- å°è£…äº†ç»„åˆæ¨¡å¼çš„é€»è¾‘
- æ–¹æ³•åªåˆ›å»ºä¸€æ¬¡(typeof this.greet!=='function')
- æ”¯æŒç±»å‹è¯†åˆ«

#### âŒç¼ºç‚¹

- ç ´ç¯äº†å‡½æ•°ä¸åŸå‹"åˆ†ç¦»"åŸåˆ™;
- ä»£ç å¯è¯»æ€§ç•¥å·®